define(["jquery","qtype_stateful/ajaxvalidation"],function(a,b){"use strict";var c=function(){for(var b=a("div.stack_ct2_indexing"),c=[],d=0;d<b.length;d++){var e=b[d],f=a(e).attr("data-style"),g=a(e).data("start"),h=a(e).attr("data-name"),i=[];i=void 0===h?a("span.stack_ct2_index:not([name])",e):a('span.stack_ct2_index[name="'+a.escapeSelector(h)+'"]',e),c[c.length]=[f,g,i.filter(":visible")]}for(var j=[],k=c.length-1;k>=0;k--)for(var l=c[k],d=l[1],m=0;m<l[2].length;m++){var n=l[2][m];if(!(j.indexOf(a(n).attr("data-c"))>-1)){switch(j[j.length]=a(n).attr("data-c"),l[0]){case"00":n.innerHTML=(d+"").padStart(2,"0");break;case"000":n.innerHTML=(d+"").padStart(3,"0");break;case"0000":n.innerHTML=(d+"").padStart(4,"0");break;case"1":n.innerHTML=d;break;case"1.":n.innerHTML=d+".";break;case"I":var o=d%10,p=(d-o)/10%10,q=((d-o)/10-p)/10%10,r=(((d-o)/10-p)/10-q)/10%10,s="";s+=["","M","MM","MMM","M&#773;V","&#773;V","&#773;VM","&#773;VMM","&#773;VMMM","M&#773;X"][r],s+=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM"][q],s+=["","X","XX","XXX","XL","L","LX","LXX","LXXX","XC"][p],s+=["","I","II","III","IV","V","VI","VII","VIII","IX"][o],n.innerHTML=s;break;default:n.innerHTML=d}d+=1}}},d={init:function(){b.registerListener(c),c()}};return d});