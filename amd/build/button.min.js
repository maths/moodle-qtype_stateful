/**
 * A javascript module to setup button type inputs.
 *
 * @package    qtype_stateful
 * @copyright  2019 Matti Harjula
 * @copyright  2019 Aalto University
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("qtype_stateful/button",[],(function(){var aliasmap={};return{registerButton:function(fieldname,value,alias){""!==alias&&null!==alias&&(aliasmap[fieldname]=alias);for(var button=document.querySelector('button[id$="'+CSS.escape(fieldname+"__button")+'"]'),iter=button;iter&&!iter.classList.contains("formulation");)iter=iter.parentElement;var submit=!1;iter&&iter.classList.contains("formulation")&&(submit=iter.querySelector('.im-controls *[id$="-submit"][type=submit]')),submit?button.addEventListener("click",(()=>{for(var fieldstoset={},i=fieldname;i in fieldstoset==0&&(fieldstoset[i]=!0,null!=aliasmap[i]);)i=aliasmap[i];return Object.keys(fieldstoset).forEach((function(field){var f=document.getElementById(field);f&&(f.value=value,f.dispatchEvent(new Event("change")))})),submit.click(),!1})):console.log("Cannot have buttons tied to submit buttons if no submit buttons are present. Check question behaviour related settings.")}}}));

//# sourceMappingURL=button.min.js.map