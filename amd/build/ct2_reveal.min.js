define(["jquery","qtype_stateful/ajaxvalidation","qtype_stateful/stack_util"],function(a,b,c){"use strict";function d(){for(var b=0;b<e.length;b++){var d=document.getElementById(e[b]),f=a("#"+e[b]),g="";if(c.is_radio(d,f.attr("data-input"))){var h=a('input[name="'+a.escapeSelector(c.find_input_name(d,f.attr("data-input")))+'"][type=radio]');h=h.filter(":checked"),h.length>0&&(g=h.val())}else g=a("#"+a.escapeSelector(c.find_input_id(d,f.attr("data-input")))).val();g===f.attr("data-val")?f.show():f.hide()}}var e=[],f=!1;return{init:function(g){var h=document.getElementById(g);if(h){e[e.length]=g;var i=a(h),j="";if(c.is_radio(h,i.attr("data-input"))){var k=a('input[name="'+a.escapeSelector(c.find_input_name(h,i.attr("data-input")))+'"][type=radio]');k=k.filter(":checked"),k.length>0&&(j=k.val())}else j=a("#"+a.escapeSelector(c.find_input_id(h,i.attr("data-input")))).val();var l=i.attr("data-val");j===l&&i.show(),f||(b.registerListener(d),f=!0)}}}});